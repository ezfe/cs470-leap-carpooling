extends ../base.pug

block navbar_settings
  - var current_page = "onboard"

block content
  .row
    .col-lg-6.offset-lg-3
      .card
        .card-header 
          h4.mb-0 Welcome!
        .card-body
          form#onboard_form(method="POST" enctype="multipart/form-data" novalidate)
            .row.mb-4
              .col.text-center
                img.rounded.img-fluid.mr-3(id="uploadedPhoto", src="/static/blank-profile.png",style="height:200px;width:200px")   
            .row.mb-4
              .col.text-center
                  label.btn.btn-primary Upload Photo
                    input.form-control(style="display: none;", type="file", name="profile_photo", accept="image/*", onchange="displayPhoto(event)")
            .row.mb-2.ml-1
              .col
                h4 Enter your preferred first name
            .row.mb-5.ml-1.mr-1
              .col
                input.form-control(
                  name="preferred_name"
                  id="preferred_name"
                  value=(currentUser.preferred_name || currentUser.first_name)
                  type="text"
                  pattern="^[\w'\-,.][^0-9_!¡?÷?¿/\\+=@#$%ˆ&*(){}|~<>;:[\]]{2,}$"
                  autocomplete="given-name"
                  required
                  maxlength=100
                )
                .invalid-feedback Please enter your preferred first name
            .row.mb-2.ml-1
              .col
                h4 Enter your preferred email
            .row.mb-5.ml-1.mr-1
              .col
                input.form-control(
                  name="preferred_email"
                  id="preferred_email"
                  value=(currentUser.email || `${currentUser.netid}@lafayette.edu`)
                  required
                  type="email"
                  autocomplete="email"
                  maxlength=100
                )
                .invalid-feedback Please enter a valid email address
            .row.mb-2.ml-1
              .col
                h4 Enter your phone number
            .row.mb-4.ml-1.mr-1
              .col
                input.form-control(
                  name= "phone_number"
                  id="phone_number"
                  value=currentUser.phone_number
                  required
                  type="text"
                  pattern="^\d{10}$"
                  autocomplete="tel"
                  maxlength=30
                )
                .invalid-feedback Please enter a valid phone number
            .row
              .col.text-center
                button.btn.btn-primary(type="submit") Submit

  script(
    type="text/javascript",
    src="/static/js/onboard.js"
  )